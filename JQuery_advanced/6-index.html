<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8" />
        <title>Task 7</title>
        <script type="application/javascript" src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    </head>
    <body>
        <script type="application/javascript">
            function createFamilyTree() {
                    $("body").append("<table>");
                    $("table").append("<thead>");
                    $("thead").append($("<tr>").append($("<th>").text("Firstname"), $("<th>").text("Lastname")));
                    $("table").append("<tbody>")
            }

            function addNewMember(firstName,lastName,position) {
                let newRow = $("<tr>").append($("<td>").text(firstName),$("<td>").text(lastName),$("<td>").text("(x)").css("background-color", "orange").click(function(){ $(this).parent().remove()})); 
                if (position === "before") {
                    $("tbody").prepend(newRow);    
                }else{
                    $("tbody").append(newRow);
                }
            }

            function createForm() {
                $("body").append($("<input>").attr("type","text"),$("<input>").attr("type","text"),$("<select>").append($("<option>").text("Before").attr("value","before"),$("<option>").text("After").attr("value","after")),$("<button>").text("Submit").attr("type","submit").click(function() {addNewMember($("input").first().val(),$("input").eq(1).val(),$("select").val())}));
            }

            $(document).ready(
                function() {
                    createFamilyTree();
                    createForm()
                }
            );
        </script>
    </body>
</html>